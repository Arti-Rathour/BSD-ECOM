@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@model BSD_ECOM.Areas.Admin.Models.AddNewProduct
@using Microsoft.AspNetCore.Http;
@inject IHttpContextAccessor HttpContextAccessor
@{
    ViewData["Title"] = "EditProduct";
    Layout = "~/Areas/Admin/Views/Shared/_AdminLayout.cshtml";
}

<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width" />
</head>
<body>
    <div class="content-wrapper">
        <div class="container-full">
            <div class="content-header">
                <div class="d-flex align-items-center">
                    <div class="mr-auto">
                        <h3 class="page-title">Edit Product</h3>
                        <div class="d-inline-block align-items-center">
                            <nav>
                                <ol class="breadcrumb">
                                    <li class="breadcrumb-item"><a href="#"><i class="mdi mdi-home-outline"></i></a></li>
                                    <li class="breadcrumb-item" aria-current="page">Edit Product</li>
                                </ol>
                            </nav>
                        </div>
                    </div>
                </div>
            </div>
            <!--Main content-->
            <section class="content">
                <div class="row">
                    <div class="col-12">
                        <div class="box">
                            <div class="box-body">
                                <form action="#">
                                    <div class="form-body">
                                        <input type="hidden" id="id" name="ID"  asp-for="ID"/>
                                        <div class="row">
                                            <div class="col-md-4">
                                                <div class="form-group">
                                                    <label class="font-weight-700 font-size-16">Name</label>
                                                    <input type="text" class="form-control" id="txtProductName" placeholder="Product Name" name="ItemName"  asp-for="ItemName"/>
                                                </div>
                                            </div>
                                            <div class="col-md-4" style="display:none">
                                                <div class="form-group">
                                                    <label class="font-weight-700 font-size-16">Duplicate Name Product</label>
                                                    <select id="ddlDupProduct" class="form-control" tabindex="1" name="">
                                                        <option value="0">Select ItemName</option>
                                                        @if (ViewBag.DuplicateProduct != null)
                                                        {
                                                            foreach (var item in ViewBag.DuplicateProduct as List<SelectListItem>)
                                                            {
                                                                <option value="@item.Value">@item.Text</option>
                                                            }
                                                        }
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="col-md-4">
                                                <div class="form-group">
                                                    <label class="font-weight-700 font-size-16">Url</label>
                                                    <input type="text" class="form-control" id="txtUrl" placeholder="Url Name" name="URLName"  asp-for="URLName" />
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-4">
                                                <div class="form-group">
                                                    <label class="font-weight-700 font-size-16">Super Category</label>
                                                    <select id="ddlSuCategory" class="form-control" tabindex="1" asp-for="GroupID" >
                                                        <option value="0">Select</option>
                                                        @if (ViewBag.ItemCategory != null)
                                                        {
                                                            foreach (var item in ViewBag.ItemCategory as List<SelectListItem>)
                                                            {
                                                                <option value="@item.Value">@item.Text</option>
                                                            }
                                                        }
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="col-md-4">
                                                <div class="form-group">
                                                    <label class="font-weight-700 font-size-16">Category</label>
                                                    <select id="ddlCategory" class="form-control" tabindex="1" asp-for="CategoryID">
                                                        <option>Select</option>
                                                        @if (ViewBag.Category != null)
                                                        {
                                                            foreach (var item in ViewBag.Category as List<SelectListItem>)
                                                            {
                                                                <option value="@item.Value">@item.Text</option>
                                                            }
                                                        }
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="col-md-4">
                                                <div class="form-group">
                                                    <label class="font-weight-700 font-size-16">Sub Category</label>
                                                    <select id="ddlsubCategory" class="form-control" tabindex="1" asp-for="SubGroupID">
                                                        <option>Select</option>
                                                        @if (ViewBag.SubCategory != null)
                                                        {
                                                            foreach (var item in ViewBag.SubCategory as List<SelectListItem>)
                                                            {
                                                                <option value="@item.Value">@item.Text</option>
                                                            }
                                                        }
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-4">
                                                <div class="form-group">
                                                    <label class="font-weight-700 font-size-16">Product Tags</label>
                                                    <input type="text" class="form-control" id="txtProductTag" placeholder="Product Tags" name="productTag" asp-for="productTag" />
                                                </div>
                                            </div>
                                            <div class="col-md-4">
                                                <div class="form-group">
                                                    <label class="font-weight-700 font-size-16">Brand</label>
                                                    <select id="ddlBrand" class="form-control" tabindex="1" asp-for="BrandID">
                                                        <option value="0">Select</option>
                                                        @if (ViewBag.Brand != null)
                                                        {
                                                            foreach (var item in ViewBag.Brand as List<SelectListItem>)
                                                            {
                                                                <option value="@item.Value">@item.Text</option>
                                                            }
                                                        }
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="col-md-4">
                                                <div class="form-group">
                                                    <label class="font-weight-700 font-size-16">HSN</label>
                                                    <select id="ddlHSN" class="form-control" tabindex="1" asp-for="HSNCode">
                                                        <option value="0">Select</option>
                                                        @if (ViewBag.HSN != null)
                                                        {
                                                            foreach (var item in ViewBag.HSN as List<SelectListItem>)
                                                            {
                                                                <option value="@item.Value">@item.Text</option>
                                                            }
                                                        }
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-4">
                                                <div class="form-group">
                                                    <label class="font-weight-700 font-size-16">Item Type</label>
                                                    <select id="ddlItemType" class="form-control" tabindex="1" asp-for="unit_id">
                                                        <option value="0">Select</option>
                                                        @if (ViewBag.itemType != null)
                                                        {
                                                            foreach (var item in ViewBag.itemType as List<SelectListItem>)
                                                            {
                                                                <option value="@item.Value">@item.Text</option>
                                                            }
                                                        }
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="col-md-3">
                                                <input type="button" class="btn btn-primary" id="btnitemdetails" onclick="ItemDetailsonEdit()" value="Item Details" />
                                            </div>

                                            <div class="col-md-3">
                                                <label>Active</label>
                                                @if(Model.Active == 1)
                                                {
                                                    <input type="checkbox" class="btn btn-primary" id="txtcheckbox" checked value="Active" />
                                                }
                                                else
                                                {
                                                    <input type="checkbox" class="btn btn-primary" id="txtcheckbox" value="Active" />
                                                }
                                            </div>



                                            <div class="col-md-3">
                                                <label>Send Query</label>
                                                @if (Model.Send_query == 1)
                                                {
                                                    <input type="checkbox" class="btn btn-primary" id="txtsendcheck" checked value="Send_query" />
                                                }
                                                else
                                                {
                                                    <input type="checkbox" class="btn btn-primary" id="txtsendcheck" value="Send_query" />
                                                }
                                            </div>

                                            <div class="col-md-3">
                                                <label>Price</label>
                                                @if (Model.Price == 1)
                                                {
                                                    <input type="checkbox" class="btn btn-primary" id="txtpricecheck" checked value="Price" />
                                                }
                                                else
                                                {
                                                    <input type="checkbox" class="btn btn-primary" id="txtpricecheck" value="Price" />
                                                }
                                            </div>

                                            

                                           

                                        </div>
                                        <div id="divproductdata">
                                            <div style="display:none">
                                                <h3 class="page-header">Product Data</h3>
                                                <div id="divgeneral">
                                                    <h4><i class="fa fa-bars"></i>General</h4>
                                                    <div class="row">
                                                        <div class="col-md-4">
                                                            <div class="form-group">
                                                                <label class="font-weight-700 font-size-16">SKU</label>
                                                                <input type="text" class="form-control" id="txtSkuCode" placeholder="SKU Code" name="SKUCode" asp-for="SKUCode" />
                                                            </div>
                                                        </div>
                                                        <div class="col-md-4">
                                                            <div class="form-group">
                                                                <label class="font-weight-700 font-size-16">Regular Price (Rs.)</label>
                                                                <input type="text" class="form-control" id="txtRegularPrice" placeholder="Regular Price (Rs.)" name="CostPrice" value="0" />
                                                            </div>
                                                        </div>
                                                        <div class="col-md-4">
                                                            <div class="form-group">
                                                                <label class="font-weight-700 font-size-16">Sale Price (Rs.)</label>
                                                                <input type="text" class="form-control" id="txtSalePrice" placeholder="Sale Price (Rs.)" name="MRP" value="0" />
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <br />
                                                <div id="divInventory">
                                                    <h4><i class="fa fa-line-chart"></i>Inventory</h4>
                                                    <div class="row">
                                                        <div class="col-md-6">
                                                            <div class="form-group">
                                                                <label class="font-weight-700 font-size-16">Stock status</label>
                                                                <input type="text" class="form-control" id="txtStockstatus" placeholder="Stock status"   />
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <br />
                                                <div id="divShipping">
                                                    <h4><i class="fa fa-truck"></i>Shipping</h4>
                                                    <div class="row">
                                                        <div class="col-md-6">
                                                            <div class="form-group">
                                                                <label class="font-weight-700 font-size-16">Weight &nbsp;(gm/L)</label>
                                                                <div class="form-inline">
                                                                    <input type="text" class="form-control" id="txtWeight" placeholder="Weight(gm/L)" style="width:45%" name="Weight" />
                                                                    <select id="ddlweight" class="form-control" tabindex="1" style="width:50%">
                                                                        <option value="0">Select</option>
                                                                    </select>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <div class="form-group">
                                                                <label class="font-weight-700 font-size-16">Dimension (cm)</label>
                                                                <div class="form-inline">
                                                                    <input type="text" class="form-control" id="txtLength" placeholder="Dimension (cm)" style="width:32%" name="Dimension" />
                                                                    <input type="text" class="form-control" id="txtwidth" placeholder="Dimension (cm)" style="width:32%" />
                                                                    <input type="text" class="form-control" id="txtheight" placeholder="Dimension (cm)" style="width:32%" />
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="row" style="display:none">
                                                        <div class="col-md-6">
                                                            <div class="form-group">
                                                                <label class="font-weight-700 font-size-16">Shipping Charges</label>
                                                                <input type="text" class="form-control" id="txtShipCharges" placeholder="Shipping Charges" name="ShipCharge" />
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <br />
                                            </div>
                                            <div id="divImages">
                                                <h4><i class="fa fa-image"></i>Images</h4>
                                                <div class="row">
                                                    <div class="col-md-4">
                                                        <div class="form-group">
                                                            <label class="font-weight-700 font-size-16">Featured Image</label>
                                                            <input type="file" class="form-control" id="Featuredimage" name="Featuredimage" asp-for="image" />
                                                            <img src="/images/Productimage/@HttpContextAccessor.HttpContext.Session.GetString("Company_Id")/@Model.image" id="imgfront" height="70" width="70" />
                                                            <input type="hidden" id="Featuredfilename" asp-for="image" />
                                                        </div>
                                                    </div>
                                                    <div class="col-md-4">
                                                        <div class="form-group">
                                                            <label class="font-weight-700 font-size-16">Back Image</label>
                                                            <input type="file" class="form-control" id="BackImage" name="BackImage" asp-for="image1" />
                                                            <img src="/images/Productimage/@HttpContextAccessor.HttpContext.Session.GetString("Company_Id")/@Model.image1" id="imgBack" height="70" width="70" />
                                                            <input type="hidden" id="Backfilename" asp-for="image1"/>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-4">
                                                        <div class="form-group">
                                                            <label class="font-weight-700 font-size-16">Left Image</label>
                                                            <input type="file" class="form-control" id="Leftimage" name="LeftImage" asp-for="image2" />
                                                            <img src="/images/Productimage/@HttpContextAccessor.HttpContext.Session.GetString("Company_Id")/@Model.image2" id="imgLeft" height="70" width="70" />
                                                            <input type="hidden" id="Leftfilename"  asp-for="image2" />
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-md-4">
                                                        <div class="form-group">
                                                            <label class="font-weight-700 font-size-16">Right  Image</label>
                                                            <input type="file" class="form-control" id="RightImage" name="RightImage" asp-for="image3" />
                                                            <img src="/images/Productimage/@HttpContextAccessor.HttpContext.Session.GetString("Company_Id")/@Model.image3" id="imgRight" height="70" width="70" />
                                                            <input type="hidden" id="Rightfilename" asp-for="image3" />
                                                        </div>
                                                    </div>


                                                 



                                                    <div class="col-md-4">
                                                        <div class="form-group">
                                                            <label class="font-weight-700 font-size-16">Upload Video</label>
                                                            <input type="file" class="form-control" id="imgfile1" name="imgfile1" asp-for="Image4" />
                                                         @*    <img src="/images/Productimage/@HttpContextAccessor.HttpContext.Session.GetString("Company_Id")/@Model.image3" id="file1Image" height="70" width="70" /> *@

                                                            <video width="200" height="150" style="display:none" controls>
                                                                <source src="/images/Productimage/@HttpContextAccessor.HttpContext.Session.GetString("Company_Id")/@Model.Image4" id="file1Image" height="70" width="70" type="video/mp4" >
                                                                
                                                            </video>
                                                            <input type="hidden" id="imgfile1name" asp-for="Image4" />
                                                        </div>
                                                    </div>






                                                    <div class="col-md-4">
                                                        <div class="form-group">
                                                            <label class="font-weight-700 font-size-16">Upload PDF</label>
                                                            <input type="file" class="form-control" id="pdf" name="imgfile1" asp-for="Image5" />
                                                            @*    <img src="/images/Productimage/@HttpContextAccessor.HttpContext.Session.GetString("Company_Id")/@Model.image3" id="file1Image" height="70" width="70" /> *@

                                                            <embed
                                                            src="/images/Productimage/@HttpContextAccessor.HttpContext.Session.GetString("Company_Id")/@Model.Image5" id="pdf1Iimage" height="70" width="70" 

                                                         style="display:none"   />

                                                           
                                                            <input type="hidden" id="pdf1name" asp-for="Image5" />
                                                        </div>
                                                    </div>



                                                </div>
                                            </div>
                                        </div>
                                        <hr />
                                        <div id="divDescription">
                                            <div class="row">
                                                <div class="col-md-12">
                                                    <div class="form-group">
                                                        <label class="font-weight-700 font-size-16">Product Short Description</label>
                                                        <textarea id="txtProductDesc" class="ckeditor" name="Description" rows="200" asp-for="Description"></textarea>

                                                    </div>
                                                </div>
                                            </div>
                                            <div>
                                                <div class="col-md-12">
                                                    <div class="form-group">
                                                        <label class="font-weight-700 font-size-16">Additional Information</label>
                                                        <textarea id="AddInformation" class="ckeditor" name="additional" rows="200" asp-for="additional"></textarea>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-12">
                                                    <div class="form-group">
                                                        <label class="font-weight-700 font-size-16">Ingredients</label>
                                                        <textarea id="Ingredients" class="ckeditor" name="ingredients" rows="200" asp-for="ingredients"></textarea>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-actions mt-10">
                                        <input type="button" class="btn btn-primary" id="btnSave" onclick="UpdateProduct()" value="Update Product" />
                                        <input type="button" class="btn btn-danger" value="Clear" onclick="Clear()" />
                                        @*<button type="submit" class="btn btn-primary"> <i class="fa fa-check"></i> Save / Add</button>
                                            <button type="button" class="btn btn-danger">Cancel</button>*@
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            <input type="hidden" ID="hdnBalance" Value="0" />
            <input type="hidden" id="hdnStock" value="0" />
            <!--/ Content-->

            <div class="modal fade" id="quickViewModal" tabindex="-1" aria-labelledby="quickViewModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered modal-lg">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" id="close"></button>
                        </div>
                        <div class="modal-body">
                            <div class="row">
                                <div class="col-md-12 col-sm-12 col-xs-12 mb-md-0 mb-sm-5">
                                    <div class="box">
                                        <div class="box-body" >
                                            <form>
                                                <div class="form-body">
                                                    <input type="hidden" id="unitId" asp-for="UnitID" />
                                                    <input type="hidden" id="Index" />
                                                    <input type="hidden" id="txthiddenitemid" value="0" />
                                                    <div class="col-md-12">
                                                        <div class="form-group">
                                                            <label class="font-weight-700 font-size-16">Unit Name</label>
                                                            <input type="text" class="form-control" id="txtUnitName" readonly placeholder="Unit Name" name="UnitName" />
                                                        </div>
                                                    </div>

                                                    <div class="col-md-12">
                                                        <div class="form-group">
                                                            <label class="font-weight-700 font-size-16">Unit Type</label>
                                                            <input type="text" class="form-control" id="txtQuantity" placeholder="Quantity" name="quantity" />
                                                        </div>
                                                    </div>
                                                    <div class="col-md-12">
                                                        <div class="form-group">
                                                            <label class="font-weight-700 font-size-16">Discount(%)</label>
                                                            <input type="text" class="form-control" id="txtDiscount" placeholder="Discount" name="discont"/>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-12">
                                                        <div class="form-group">
                                                            <label class="font-weight-700 font-size-16">Unit Rate</label>
                                                            <input type="text" class="form-control" id="txtunitrate" placeholder="Unit Rate" name="unitrate"/>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-12">
                                                        <div class="form-group">
                                                            <label class="font-weight-700 font-size-16">Stock Quantity</label>
                                                            <input type="text" class="form-control" id="txtStockQty" placeholder="Stock Quantity" name="StockQuantity"/>
                                                        </div>
                                                    </div>

                                                    <div class="col-md-12">
                                                        <div class="form-group">
                                                            <label class="font-weight-700 font-size-16">Shipping Charge</label>
                                                            <input type="text" class="form-control" id="txtshipping" placeholder="Shipping Charge" name="Shipping Charge"/>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="form-actions mt-10">
                                                    <input type="button" class="btn btn-primary" id="savebutton" style="display:none" value="Save" />
                                                    @*<input type="button" class="btn btn-danger" value="Clear" id="btnclear1"  />*@
                                                    <input type="button" class="btn btn-primary" id="Updatebutton" value="Update" />
                                                </div>
                                            </form>
                                            <div class="table-responsive rounded card-table">
                                                <table class="table border-no" id="example1">
                                                    <thead>
                                                        <tr>
                                                            <th style="display:none">S.NO</th>
                                                            <th style="display:none">Itemdetails Id</th>
                                                            <th style="display:none">Unit Id</th>
                                                            <th style="display:none">Unit Name</th>
                                                            <th>Unit Type</th>
                                                            <th>Discount</th>
                                                            <th>Unit Rate</th>
                                                            <th>Stock Quantity</th>
                                                            <th>Shipping Charges</th>
                                                            <th>Action</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody class="tbodyUnit"></tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="@Url.Content("~/js/Admin/Product.js")"></script>
</body>
</html>


